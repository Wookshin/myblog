---
title: AWS SAA 준비 - (2) 성능이 뛰어난 아키텍처 설계
subtitle: (정리) Exam Readiness - AWS Solutions Architect Associate
readtime: 20 min
author: wookshin
tags: [aws]
comments: true
---

<br/>

# AWS SAA 준비 - (2) 성능이 뛰어난 아키텍처 설계

AWS에서 제공하는 SAA 준비 교육 영상 컨텐츠를 글로 적었습니다.

> <a href="<https://explore.skillbuilder.aws/learn/course/6452>" target="_blank">https://explore.skillbuilder.aws/learn/course/6452</a>

<br/>

## 1. 성능이 뛰어난 아키텍처 설계

#### 1.1 성능이 뛰어난 스토리지 및 데이터베이스 선택

#### 1.2 캐싱을 적용하여 성능 개선

#### 1.3 탄력성과 확장성을 갖춘 솔루션 설계

#### 1.4 솔루션에서 운영 우수성을 지원할 수 있는 설계 기능 선택

<br/>

### EBS 블록 스토리지

- EBS는 블록 스토리지에 해당한다. EC2 인스턴스에 EBS 볼륨을 디스크로 탑재할 수 있다.
- EBS 볼륨은 성능 면에서 일장일단이 있다. SSD는 더 비싸고 IOPS, 즉 랜덤 엑세스와 읽기 및 쓰기 성능이 더 좋다. HDD는 저렴하고 순차적 읽기 및 쓰기 성능이 더 좋다. 순차적 빅데이터 파일 처리를 예로 들 수 있다.

|                  | 솔리드 스테이트 드라이브(SSD |          |          | 하드 디스크 드라이브(HDD) |
| ---------------- | ---------------------------- | -------- | -------- | ------------------------- |
| 최대 볼륨 크기   | 16TiB                        | 16TiB    | 16TiB    | 16TiB                     |
| 볼륨당 최대 IOPS | 10,000                       | 32,000   | 500      | 250                       |
| 최대 처리량/볼륨 | 160MiB/s                     | 500MiB/s | 500MiB/s | 250MiB/s                  |

- 큰 범주 안에서는 프로비저닝된 IOPS의 성능이 더 좋지만 SSD 옵션으로는 더 비싸다. HDD 쪽에서는 처리량 최적화 HDD가 성능이 더 좋고 처리량이 더 많으며 더 비싼 HDD 옵션이다.
- 먼저 내려야 할 결정은 SSD를 선택할지 HDD를 선택할지이다. 그런 다음 이 큰 범주 안에 실제 성능을 결정하는 두 번째 선택이 있다.
- 고성능 아키텍처의 또 다른 관건은 모든 정적 콘텐츠를 서버에 유지하는 대신 S3에 오프로드하는 것이다. HTML 파일, JS 파일, CSS 파일, 이미지, 비디오 등의 정적 콘턴츠가 있는 정적 폴더를 웹 서버에 두는 대신 S3로 이동하는 것이다. 그러면 웹 서버의 성능이 크게 향상되고 웹 서버의 부하를 덜어 준다. 이렇게 확보된 CPU와 메모리를 모두 동적 콘텐츠 제공에 사용할 수 있다.

<br/>

### 파일을 S3에 업로드하려면 어떻게 해야 할까? 

- 먼저 리전 중 하나에 버킷을 생성한다.
- 버킷 이름은 S3 URL의 하위 도메인이 된다. 그런 다음 이 버킷에 원하는 수의 객체를 업로드할 수 있다. S3 객체는 버킷 이름에 따라 자동으로 URL이 할당된다. 
- URL은 가상 호스팅 스타일 또는 경로 스타일이 될 수 있다. 가상 호스팅 스타일 URL에는 도메인 이름의 일부로 버킷이 포함되며 경로 스타일 URL에는 경로의 첫 번째 부분에 버킷이 있다. URL의 리전을 지정하거나 리전이 없는 URL도 사용할 수 있는데 이 경우 버킷이 저장될 적절한 리전으로 연결된다.
- 핵심은 리전과 독립적인 이름을 참조할 수 있더라도 버킷은 항상 리전에 연결된다는 것이다.
- 또 버킷 이름은 전역적으로 고유하다. 'my bucket'이라는 버킷이 있다면 모든 리전의 다른 어떤 버킷도 이 이름을 사용할 수 없다. 
- 버킷 이름 뒤의 파일 전체 경로를 '키'라고 한다. 

<br/>

### 버킷의 요금은 다음 세 가지 요소로 구성된다.

#### 사용한 만큼만 비용을 지불

- 월별 GB
- 리전 밖으로 전송
- PUT, COPY, POST, LIST, GET 요청

#### 무료

- Amazon S3로 전송
- Amazon S3에서 같은 리전의 Amazon CloudFront로 전송

### S3에는 여러 스토리지 클래스가 있다.

가장 중요한 클래스는 S3 Standard와 S3 Standard - Infrequent Access 이다.
이 두 클래스는 일장일단이 있다.

#### 범용: Amazon S3 Standard

- 가용성 요구 사항이 더 높은 경우: 교차 리전 복제를 사용한다.

#### 엑세스 빈도가 낮은 데이터: Amazon S3 Standard - Infrequent Access

- 저장된 GB당 비용이 저렴
- PUT, COPY, POST 또는 GET 요청당 비용이 높음
- 최소 30일 스토리지

S3 Standard - Infrequent Access는 스토리지 요금이 저렴하지만 검색 요금이 약간 비싸며 S3 Standard는 검색 요금이 저렴한 대신 스토리지 요금이 약간 비싸다.  
S3 Standard - Infrequent Access에는 30일의 최소 스토리지 기간도 있다.

데이터 파일을 읽는 일반적인 패턴은 데이터 처리에 관심이 많은 초기에는 자주 엑세스하지만 시간이 지남에 따라 엑세스가 뜸해지고 결국 거의 엑세스하지 않게 되지만 그래도 일정 기간 동안 보유해야 한다. 이 경우 S3 수명 주기 정책이 유용하다.

S3 수명 주기 정책은 시간 경과에 따라 S3 Standard에서 S3 Standard - Infrequent Access로 다시 Glacier로 데이터를 자동으로 이동할 수 있다. 마침내 더 이상 필요하지 않게 되면 파일을 삭제할 수 있다.

Amazon S3 Standard >> S3 Standard - Infrequent Access >> Amazon Glacier >> 삭제

수명 주기 정책을 사용하면 오래된 콜드 데이터는 보다 저렴한 스토리지로 이동하고 당장 관심이 있는 핫 데이터는 엑세스 빈도가 높은 스토리지에 남겨 둘 수 있다.

<br/>

## 2. 예시문항 1

#### 해설

<br/>

## 3. 예시문항 2

#### 해설

<br/>

## 4. 데이터베이스의 고성능 스토리지

<br/>

## 5. 예시문항 3

#### 해설

<br/>

## 6. 예시문항 4

#### 해설

<br/>

## 7. 캐싱

#### 

<br/>

## 8. 예시문항 5

#### 해설

<br/>

## 9. 예시문항 6

#### 해설

<br/>

## 10. Amazon CloudFront

#### 

<br/>

## 11. 예시문항 7

#### 해설

<br/>

## 12. 예시문항 8

#### 해설

<br/>

## 13. Auto Scaling

#### 

<br/>

## 14. 예시문항 9

#### 해설

<br/>

## 15. 예시문항 10

#### 해설

<br/>

## 16. 예시문항 11

#### 해설

<br/>

## 17. 예시문항 12

#### 해설

<br/>

## 18. 운영 우수성

#### 해설

<br/>

## 19. 예시문항 13

#### 해설

<br/>

## 20. 예시문항 14

#### 해설

<br/>

## 21. 예시문항 15

#### 해설

<br/>

## 22. 시험에 대한 조언

#### 해설

<br/>

<br/><br/><br/><br/><br/>
