---
title: AWS SAA 준비 - (3) 안전한 아키텍처
subtitle: (정리) Exam Readiness - AWS Solutions Architect Associate
readtime: 20 min
author: wookshin
tags: [aws]
comments: true
---

<br/>

# AWS SAA 준비 - (3) 안전한 아키텍처

AWS에서 제공하는 SAA 준비 교육 영상 컨텐츠를 글로 적었습니다.

> <a href="<https://explore.skillbuilder.aws/learn/course/6452>" target="_blank">https://explore.skillbuilder.aws/learn/course/6452</a>

<br/>

## 1. 안전한 아키텍처

안전한 아키텍처 및 애플리케이션 설계의 몇 가지 모범 사례가 나와 있다.  

### 영역 3: 안전한 애플리케이션 및 아키텍처 지정

- 1.1 애플리케이션 티어를 보호하는 방법 결정
- 1.2 데이터 보호 방법 결정
- 1.3 단일 VPC 애플리케이션을 위한 네트워킹 인프라 정의

애플리케이션 티어 보호 방법을 결정하고 데이터 보호 방법을 결정하고 단일 VPC 애플리케이션의 네트워킹 인프라를 정의하고 네트워크 보호 방법을 이해해야 한다.  

<br/>

### 인프라

- 인프라
  - 공동 책임 모델
- AWS 리소스 보호
  - 최소 권한의 원칙 적용
  - 자격 증명

AWS에서의 보안을 이해하기 위한 핵심은 공동 책임 모델, 최소 권한의 원칙, AWS의 자격 증명 개념이다.


[aws-shared-responsibility](/assets/images/aws-shared-responsibility.png)

스택 사이에 선을 그었을 때 공동 책임 모델 측면에서 선 아래는 AWS의 책임이고 선 위는 고객의 책임이다.  
예를 들어 AWS 인프라의 물리적 보안은 AWS의 책임이다. EC2 인스턴스에서 내가 실행하는 애플리케이션 코드는 내 책임이다.  
관리형 서비스를 사용하면 공동 책임의 선이 더 위로 이동한다.

<br/>

### 최소 권한의 원칙

- 사용자(또는 프로세스)는 꼭 필요한 활동만 수행할 수 있다.

최소 권한의 원칙이란 필요한 작업을 수행할 수 있는 최소한의 권한만을 사용자와 서버에 부여하는 것을 말한다. 

<br/>

### AWS IAM

- AWS에서 사용자와 사용자 권한을 중앙에서 관리한다.
- AWS IAM을 사용하면 다음을 수행할 수 있다.
  - 사용자, 그룹, 역할, 정책을 생성
  - 권한을 정의하여 사용자가 엑세스할 수 있는 AWS 리소스 제어.
- IAM은 SAML 자격 증명 연동을 통해 Microsoft Active Directory 및 AWS Directory Service와 통합된다.

AWS에서는 IAM을 통해 리소스를 보호한다.

IAM을 통해 사용자, 그룹, 역할을 만들 수 있다. 역할을 사무실 방문 허가증과 비슷한 임시 자격 증명으로 생각하면 된다.

이러한 자격 증명에 권한을 연결한다. 권한은 정책 형식으로 되어 있다.  

정책은 리소스와 해당 리소스에서 수행할 수 있는 작업을 지정한다.  
이러한 정책을 사용자 그룹 또는 역할에 연결해야 리소스에서 작업을 수행할 수 있다.  

연동을 사용하여 IAM을 Active Directory 또는 기타 자격 증명 공급자와 통합할 수도 있다.

<br/>

### 자격 증명

- IAM 사용자: 계정 내에서 생성된 사용자이다.
- 역할: EC2 인스턴스, Lambda 및 외부 사용자가 사용하는 임시 자격증명이다.
- 연동: Active Directory 자격 증명 또는 기타 기업 자격 증명이 있는 사용자에게는 IAM에서 역할이 할당된다.
- 웹 자격 증명 연동: Amazon.com 또는 기타 오픈 ID 제공자의 웹 자격 증명이 있는 사용자에게는 STS(Security Token Service)를 사용하여 역할이 할당된다.

AWS의 자격 증명은 이런 형식으로 존재한다. 계정 안에서 만들 수 있는 IAM 사용자가 있고 역할은 EC2 인스턴스, Lambda, 외부 사용자가 사용하는 임시 자격 증명이다.  
연동을 통해 Active Directory 자격 증명 또는 기타 회사 자격 증명이 있는 사용자에게 역할을 할당할 수 있다.  
그런 다음 웹 자격 증명 연동을 통해 amazon.com 또는 기타 ID 공급자에서 인증된 사용자에게 역할을 할당할 수 있다. 이때 STS, 즉 보안 토큰 서비스를 사용한다.

<br/>

[aws-iam-policy](/assets/images/aws-iam-policy.png)

> 출처: https://explore.skillbuilder.aws/learn/course/120/play/3802

<br/>

### 학습을 위한 자료 및 위치

- 보안 프로세스의 개요 백서
  - 공동 보안 책임 모델
  - Amazon 계정 보안 기능
- AWS 보안 모범 사례 백서
- IAM 모범 사례
- AWS STS를 사용해야 하는 경우

<br/>

### 예시문항 1

AWS 계정 관리자가 오늘 퇴사를 한다고 합니다. 관리자는 루트 사용자와 개인 IAM 관리자 계정에 엑세스할 권한이 있었고, 이들 계정을 가지고 다른 IAM 사용자와 키를 생성했습니다.  
AWS 인프라를 보호하기 위해 지금 당장 해야 할 일은 무엇입니까? (3개 선택)

A. 암호를 변경하고 루트 사용자에 MFA를 추가합니다.  
B. 루트 사용자 로그인 시 IP에 제한을 둡니다.  
C. 키를 교체하고 IAM 사용자의 암호를 변경합니다.  
D. 모든 IAM 사용자를 삭제합니다.  
E. 관리자의 IAM 사용자를 삭제합니다.  
F. 새 역할로 모든 EC2 인스턴스를 다시 시작합니다.  

<br/>

#### 해설

B는 불가능하기 때문에 제거할 수 있다.  
D는 불필요하고 지나친 대응이기 때문에 제거할 수 있다.  
F도 제거할 수 있다. 역할은 임시 자격 증명이지 사용자가 아니므로 아무런 효과가 없다.  

그러면 필요한 3개의 답이 남는다.  
A. 암호를 변경하고 루트 사용자에 MFA를 추가합니다.  
C. 키를 교체하고 IAM 사용자의 암호를 변경합니다.  
E. 관리자의 IAM 사용자를 삭제합니다.  

<br/>




## 2. Amazon VPC

<br/>

### 예시문항 2

#### 해설

<br/>

## 3. 데이터 티어 보안

<br/>

### 예시문항 3

#### 해설

<br/>

### 예시문항 4

#### 해설

<br/>

## 4. 시험에 대한 조언

<br/><br/><br/><br/><br/>
